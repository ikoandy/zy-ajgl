<!-- pages/auth/login/login.wxml -->
<view class="login-container">
  <!-- 中间内容区 -->
  <view class="login-content">
    <!-- 系统标题 -->
    <view class="system-title">中汇法创智能管理系统</view>
    <view class="system-subtitle">微信小程序</view>
    
    <!-- 登录方式切换 -->
    <view class="login-tabs">
      <view class="tab-item {{loginType === 'wechat' ? 'active' : ''}}" bindtap="switchLoginType" data-type="wechat">
        微信登录
      </view>
      <view class="tab-item {{loginType === 'account' ? 'active' : ''}}" bindtap="switchLoginType" data-type="account">
        账号密码登录
      </view>
    </view>
    
    <!-- 微信登录 -->
    <view wx:if="{{loginType === 'wechat'}}" class="login-form">
      <!-- 登录按钮 -->
      <button 
        class="login-button" 
        bindtap="handleWechatLogin" 
        loading="{{loading}}"
        disabled="{{loading}}"
        plain="false"
        type="default"
        style="background-color: #1a365d !important; color: white !important;"
      >
        微信授权登录
      </button>
    </view>
    
    <!-- 账号密码登录 -->
    <view wx:if="{{loginType === 'account'}}" class="login-form">
      <!-- 账号输入 -->
      <view class="input-group">
        <view class="input-label">账号</view>
        <input 
          class="input" 
          placeholder="请输入账号" 
          placeholder-class="placeholder" 
          value="{{account}}" 
          bindinput="handleAccountInput"
        ></input>
      </view>
      
      <!-- 密码输入 -->
      <view class="input-group">
        <view class="input-label">密码</view>
        <input 
          class="input" 
          placeholder="请输入密码" 
          placeholder-class="placeholder" 
          value="{{password}}" 
          bindinput="handlePasswordInput"
          password
        ></input>
      </view>
      
      <!-- 忘记密码 -->
      <view class="forgot-password" bindtap="handleForgotPassword">
        忘记密码？
      </view>
      
      <!-- 登录按钮 -->
      <button 
        class="login-button" 
        bindtap="handleAccountLogin" 
        loading="{{loading}}"
        disabled="{{loading}}"
        plain="false"
        type="default"
        style="background-color: #1a365d !important; color: white !important;"
      >
        登录
      </button>
      
      <!-- 注册入口 -->
      <view class="register-link">
        还没有账号？
        <text class="link" bindtap="goToRegister">立即注册</text>
      </view>
    </view>
    
    <!-- 协议提示 -->
    <view class="agreement">
      <text>点击登录，即表示同意</text>
      <text class="link">用户协议</text>
      <text>和</text>
      <text class="link">隐私政策</text>
    </view>
  </view>
</view>
