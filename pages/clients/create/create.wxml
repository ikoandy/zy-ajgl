<!-- pages/clients/create/create.wxml -->
<view class="create-container">
  <!-- 页面标题 -->
  <view class="page-header">
    <view class="back-button" bindtap="handleBack">
      <text class="back-icon">←</text>
    </view>
    <text class="page-title">{{clientId ? '编辑客户' : '添加客户'}}</text>
    <view class="save-button" bindtap="handleSubmit">
      <text class="save-text">保存</text>
    </view>
  </view>

  <!-- 创建表单 -->
  <form class="create-form" bindsubmit="handleSubmit">
    <!-- 基本信息 -->
    <view class="form-section">
      <text class="section-title">基本信息</text>
      
      <view class="form-item">
        <text class="form-label">客户姓名</text>
        <input 
          class="form-input" 
          name="name" 
          type="text" 
          value="{{formData.name}}" 
          placeholder="请输入客户姓名" 
          bindinput="handleInputChange" 
          data-field="name" 
          placeholder-class="placeholder"
          required
        />
      </view>

      <view class="form-item">
        <text class="form-label">手机号</text>
        <input 
          class="form-input" 
          name="phone" 
          type="number" 
          value="{{formData.phone}}" 
          placeholder="请输入手机号" 
          bindinput="handleInputChange" 
          data-field="phone" 
          placeholder-class="placeholder"
        />
      </view>

      <view class="form-item">
        <text class="form-label">邮箱</text>
        <input 
          class="form-input" 
          name="email" 
          type="text" 
          value="{{formData.email}}" 
          placeholder="请输入邮箱" 
          bindinput="handleInputChange" 
          data-field="email" 
          placeholder-class="placeholder"
        />
      </view>

      <view class="form-item">
        <text class="form-label">客户状态</text>
        <view class="status-selector">
          <view 
            wx:for="{{statusOptions}}" 
            wx:key="value" 
            class="status-option {{formData.status === item.value ? 'active' : ''}}" 
            bindtap="handleStatusChange" 
            data-status="{{item.value}}"
          >
            {{item.label}}
          </view>
        </view>
      </view>
    </view>

    <!-- 详细信息 -->
    <view class="form-section">
      <text class="section-title">详细信息</text>
      
      <view class="form-item">
        <text class="form-label">客户类型</text>
        <view class="type-selector">
          <view 
            wx:for="{{typeOptions}}" 
            wx:key="value" 
            class="type-option {{formData.type === item.value ? 'active' : ''}}" 
            bindtap="handleTypeChange" 
            data-type="{{item.value}}"
          >
            {{item.label}}
          </view>
        </view>
      </view>

      <view class="form-item">
        <text class="form-label">备注</text>
        <textarea 
          class="form-textarea" 
          name="remark" 
          value="{{formData.remark}}" 
          placeholder="请输入备注信息" 
          bindinput="handleInputChange" 
          data-field="remark" 
          placeholder-class="placeholder"
          maxlength="500"
          auto-height
        ></textarea>
      </view>
    </view>

    <!-- 隐藏的提交按钮 -->
    <button form-type="submit" style="display: none;"></button>
  </form>

  <!-- 加载状态 -->
  <view class="loading-overlay" wx:if="{{loading}}">
    <view class="loading-content">
      <view class="loading-spinner"></view>
      <text class="loading-text">保存中...</text>
    </view>
  </view>
</view>